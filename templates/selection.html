{% include "base.html" %}
{% load cplanner_extras %}

<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

<body>
    <h1>Semester {{ sem_number }}</h1>

    {% if errors %}
        <div class="alert alert-danger">
		<ul>
			{% for error in errors %}
			<li>{{ error }}</li>
			{% endfor %}
		</ul>
        </div>
	{% endif %}

    <form action="" method="POST">
		<table>
            {{ form.as_table }}
        </table>
        {% csrf_token %}
        <p><input class="btn btn-default btn-sm" type="submit" value="Add Course" name="add_course">
        <input class="btn btn-default btn-sm" type="submit" value="Save Semester" name="save_semester"></p>
	</form>

    <h3>Courses Taken</h3>
    {% for c in courses %}
        <a role="button"
           class="btn btn-primary"
           id="_{{ c | strip }}">{{ c }}</a>
        <br>

        <div id="{{ c | strip }}" style="display:none">
            <b>{{ c.name }}</b>
            <p>{{ c.description }}</p>
            <form action="" method="POST">
                {% csrf_token %}
                <input
               class="btn btn-danger btn-sm"
                    type="submit"
                    value="Remove"
                    name="remove_{{ c.identifier }}">
                </input>
            </form>
        </div>

        <script>
        $(function() {
            $("#_{{ c | strip }}").click(function() {
                $("#{{ c | strip }}").toggle();
            });
        });
        </script>

    {% endfor %}

    <p><b>Credit Hours: {{ credit }}/18</b></p>


</body>